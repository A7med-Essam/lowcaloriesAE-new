<div class="inner-intro parallax bg-overlay-black-70 bg-darkImg">
    <div class="container">
        <div class="row text-center intro-title">
            <h1 class="text-orange">Select Meals</h1>
            <p class="text-white">We Know The Secret Of Your Success</p>
            <ul class="page-breadcrumb">
                <li><a routerLink=""><i class="fa fa-home"></i> Home</a> <i class="fa fa-angle-double-right"></i></li>
                <li><span>Plans</span></li>
            </ul>
        </div>
    </div>
</div>

<section class="my-5">
    <div class="container">
        <div class="row" *ngIf="ProgramDetails | async as program">
            <div class="col-lg-8">
                <h1 class="fa-4x">
                    <span class="txt-main text-orange">
                        {{program[0].myprogram.name}}
                    </span>
                </h1>
                <p class="text-muted txt-font">
                    {{program[0].myprogram.description}}
                </p>
            </div>
            <div class="col-12">
                <owl-carousel-o [options]="categoryOptions" ngClass="categories"
                    *ngIf="categories$ |async as categories">
                    <ng-container *ngFor="let category of categories; let i = index">
                        <ng-template carouselSlide>
                            <div class="item bg-white px-5 rounded py-3 font-weight-500"
                                [ngClass]="{'active': i == category_index}"
                                (click)="toggleCategories($event, i, category.id)">
                                {{category?.name}}
                            </div>
                        </ng-template>
                    </ng-container>
                </owl-carousel-o>
            </div>
            <div class="col-12">
                <owl-carousel-o *ngIf="meals.length > 0" ngClass="meals">
                    <ng-container>
                        <ng-container *ngFor="let meal of meals;let i = index">
                            <ng-template carouselSlide>
                                <div
                                    class="item bg-white p-3 shadow rounded mx-3 h-100 d-flex flex-column justify-content-between mb-4">
                                    <div>
                                        <img [src]="meal?.image" class="img-fluid rounded-lg" alt="Meal Image">
                                        <h5 class="txt-black mt-3">
                                            {{meal?.mainDish?.name}}
                                        </h5>
                                    </div>
                                    <div class="text-muted">
                                        <p class="my-1">
                                            {{meal?.description}}
                                            Lorem ipsum dolor sit amet.
                                        </p>
                                    </div>
                                    <div
                                        class="d-flex justify-content-between align-items-center mt-3 flex-wrap flex-md-nowrap">
                                        <button
                                            class="btn bg-black text-white px-4 py-2 mt-2 w-100 me-2 font-weight-500 detailsBtn">
                                            Details
                                        </button>
                                        <button
                                            class="btn bg-main text-white px-4 py-2 mt-2 w-100 ms-2 font-weight-500 selectBtn">
                                            Select
                                        </button>
                                    </div>
                                </div>
                            </ng-template>
                        </ng-container>
                    </ng-container>
                </owl-carousel-o>
            </div>
            <div class="col-12 mt-4">
                <div class="bg-white rounded shadow-lg mx-3 p-4 cards" *ngIf="cards.length > 0 ;">
                    <h5 class="mb-2">Selected Meals</h5>
                    <div class="row">
                        <div class="col-md-6 col-lg-4 col-xl-3 my-2 day-card" #MealsCard
                            *ngFor="let card of cards;let i = index;" [attr.card]="i+1">
                            <div class="bg-white rounded shadow item px-3 py-2 meal_card">
                                <div>
                                    <i class="fas fa-calendar-alt text-orange"></i>
                                    <div><b>
                                            {{card?.day}}
                                            , </b> <span class="txt-font">{{card?.date}}</span></div>
                                </div>
                                <div class="mt-3">
                                    <h6>Meals</h6>
                                    <div class="d-flex flex-wrap meals">
                                        <i class="fas fa-check-circle text-muted m-1"
                                            *ngFor="let meal of card.meals"></i>
                                    </div>
                                </div>
                                <div class="mt-3" *ngIf="card.snacks.length">
                                    <h6>Snacks</h6>
                                    <div class="d-flex flex-wrap snacks">
                                        <i class="fas fa-check-circle text-muted m-1"
                                            *ngFor="let snack of card.snacks"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>